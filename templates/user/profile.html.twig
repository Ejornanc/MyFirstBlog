{% extends "Layouts/base.html.twig" %}

{% block title %}Mon Profil - Blog Professionnel{% endblock %}
{% block head %}
    {{ parent() }}
        <link rel="stylesheet" href="/Css/User.css">
        <link rel="stylesheet" href="/Css/Formulaire.css">
{% endblock %}

{% block content %}
    <div class="container">
        <div class="profile-container">
            <h2 class="profile-title">Mon Profil</h2>
            
            {% if success %}
                <div class="alert alert-success">
                    Votre profil a été mis à jour avec succès.
                </div>
            {% endif %}
            
            {% if errors|length > 0 %}
                <div class="alert alert-danger">
                    <ul>
                        {% for error in errors %}
                            <li>{{ error }}</li>
                        {% endfor %}
                    </ul>
                </div>
            {% endif %}
            
            <div class="form-container">
                <h3 class="profile-info-title">Informations personnelles</h3>
                
                <form method="post">
                    <div class="form-group">
                        <label for="username">Nom d'utilisateur</label>
                        <input type="text" class="form-control" id="username" name="username" value="{{ user.username }}" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" class="form-control" id="email" name="email" value="{{ user.email }}" required>
                    </div>
                    
                    <div class="form-group">
                        <label>Rôle</label>
                        <input type="text" class="form-control" value="{{ user.role }}" readonly>
                    </div>
                    
                    <div class="form-group">
                        <label>Date d'inscription</label>
                        <input type="text" class="form-control" value="{{ user.createdAt|date('d/m/Y H:i') }}" readonly>
                    </div>
                    
                    <button type="submit" class="btn btn-primary">Mettre à jour le profil</button>
                </form>
            </div>
            
            <div class="profile-actions">
                <a href="/" class="btn btn-secondary">Retour à l'accueil</a>
                <a href="/logout" class="btn btn-danger">Se déconnecter</a>
            </div>
        </div>
    </div>
{% endblock %}